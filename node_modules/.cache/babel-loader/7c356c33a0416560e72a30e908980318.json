{"remainingRequest":"C:\\Users\\wzh\\Desktop\\登录界面\\fintechboc-ocr-website\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\wzh\\Desktop\\登录界面\\fintechboc-ocr-website\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\wzh\\Desktop\\登录界面\\fintechboc-ocr-website\\src\\store\\modules\\user.js","mtime":1658308591118},{"path":"C:\\Users\\wzh\\Desktop\\登录界面\\fintechboc-ocr-website\\babel.config.js","mtime":1658308531192},{"path":"C:\\Users\\wzh\\Desktop\\登录界面\\fintechboc-ocr-website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658308542336},{"path":"C:\\Users\\wzh\\Desktop\\登录界面\\fintechboc-ocr-website\\node_modules\\babel-loader\\lib\\index.js","mtime":1658308538095}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovVXNlcnMvd3poL0Rlc2t0b3AvXHU3NjdCXHU1RjU1XHU3NTRDXHU5NzYyL2ZpbnRlY2hib2Mtb2NyLXdlYnNpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy93emgvRGVza3RvcC9cdTc2N0JcdTVGNTVcdTc1NENcdTk3NjIvZmludGVjaGJvYy1vY3Itd2Vic2l0ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgeyBsb2dpbiBhcyBfbG9naW4sIGxvZ291dCBhcyBfbG9nb3V0LCBnZXRJbmZvIGFzIF9nZXRJbmZvIH0gZnJvbSAnQC9hcGkvdXNlcic7CmltcG9ydCB7IGdldFRva2VuLCBzZXRUb2tlbiwgcmVtb3ZlVG9rZW4gfSBmcm9tICdAL3V0aWxzL2F1dGgnOwppbXBvcnQgeyByZXNldFJvdXRlciB9IGZyb20gJ0Avcm91dGVyJzsKCnZhciBnZXREZWZhdWx0U3RhdGUgPSBmdW5jdGlvbiBnZXREZWZhdWx0U3RhdGUoKSB7CiAgcmV0dXJuIHsKICAgIHRva2VuOiBnZXRUb2tlbigpLAogICAgbmFtZTogJycsCiAgICBhdmF0YXI6ICcnCiAgfTsKfTsKCnZhciBzdGF0ZSA9IGdldERlZmF1bHRTdGF0ZSgpOwp2YXIgbXV0YXRpb25zID0gewogIFJFU0VUX1NUQVRFOiBmdW5jdGlvbiBSRVNFVF9TVEFURShzdGF0ZSkgewogICAgT2JqZWN0LmFzc2lnbihzdGF0ZSwgZ2V0RGVmYXVsdFN0YXRlKCkpOwogIH0sCiAgU0VUX1RPS0VOOiBmdW5jdGlvbiBTRVRfVE9LRU4oc3RhdGUsIHRva2VuKSB7CiAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogIH0sCiAgU0VUX05BTUU6IGZ1bmN0aW9uIFNFVF9OQU1FKHN0YXRlLCBuYW1lKSB7CiAgICBzdGF0ZS5uYW1lID0gbmFtZTsKICB9LAogIFNFVF9BVkFUQVI6IGZ1bmN0aW9uIFNFVF9BVkFUQVIoc3RhdGUsIGF2YXRhcikgewogICAgc3RhdGUuYXZhdGFyID0gYXZhdGFyOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgLy8gdXNlciBsb2dpbgogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCB1c2VySW5mbykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdCwgdXNlcm5hbWUsIHBhc3N3b3JkLCByZXN1bHQ7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICB1c2VybmFtZSA9IHVzZXJJbmZvLnVzZXJuYW1lLCBwYXNzd29yZCA9IHVzZXJJbmZvLnBhc3N3b3JkOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBfbG9naW4oewogICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLnRyaW0oKSwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKHJlc3VsdC5jb2RlID09PSAyMDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgcmVzdWx0LmRhdGEudG9rZW4pOwogICAgICAgICAgICAgIHNldFRva2VuKHJlc3VsdC5kYXRhLnRva2VuKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCAnb2snKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZShuZXcgRXJyb3IoJ2ZhaWxlZCcpKSk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgLy8gZ2V0IHVzZXIgaW5mbwogIGdldEluZm86IGZ1bmN0aW9uIGdldEluZm8oX3JlZjIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgcmVzdWx0OwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdCwgc3RhdGUgPSBfcmVmMi5zdGF0ZTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF9nZXRJbmZvKHN0YXRlLnRva2VuKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCEocmVzdWx0LmNvZGUgPT09IDIwMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbW1pdCgnU0VUX05BTUUnLCByZXN1bHQuZGF0YS51c2VybmFtZSk7CiAgICAgICAgICAgICAgY29tbWl0KCdTRVRfQVZBVEFSJywgJ2h0dHBzOi8vd3BpbWcud2FsbHN0Y24uY29tL2Y3Nzg3MzhjLWU0ZjgtNDg3MC1iNjM0LTU2NzAzYjRhY2FmZS5naWYnKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgJ29rJyk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlKG5ldyBFcnJvcign6aqM6K+B5aSx6LSl77yM6K+36YeN5paw55m75b2VJykpKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIC8vIHVzZXIgbG9nb3V0CiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjMpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgcmVzdWx0OwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdCwgc3RhdGUgPSBfcmVmMy5zdGF0ZTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF9sb2dvdXQoc3RhdGUudG9rZW4pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShyZXN1bHQuY29kZSA9PT0gMjAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmVtb3ZlVG9rZW4oKTsgLy8gbXVzdCByZW1vdmUgIHRva2VuICBmaXJzdAoKICAgICAgICAgICAgICByZXNldFJvdXRlcigpOwogICAgICAgICAgICAgIGNvbW1pdCgnUkVTRVRfU1RBVEUnKTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZShuZXcgRXJyb3IoJ+mAgOWHuuWksei0pe+8jOivt+mHjeaWsOeZu+W9lScpKSk7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICAvLyByZW1vdmUgdG9rZW4KICByZXNldFRva2VuOiBmdW5jdGlvbiByZXNldFRva2VuKF9yZWY0KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIHJlbW92ZVRva2VuKCk7IC8vIG11c3QgcmVtb3ZlICB0b2tlbiAgZmlyc3QKCiAgICAgIGNvbW1pdCgnUkVTRVRfU1RBVEUnKTsKICAgICAgcmVzb2x2ZSgpOwogICAgfSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"names":["login","logout","getInfo","getToken","setToken","removeToken","resetRouter","getDefaultState","token","name","avatar","state","mutations","RESET_STATE","Object","assign","SET_TOKEN","SET_NAME","SET_AVATAR","actions","userInfo","commit","username","password","trim","result","code","data","Promise","Error","resetToken","resolve","namespaced"],"sources":["C:/Users/wzh/Desktop/登录界面/fintechboc-ocr-website/src/store/modules/user.js"],"sourcesContent":["import { login, logout, getInfo } from '@/api/user'\r\nimport { getToken, setToken, removeToken } from '@/utils/auth'\r\nimport { resetRouter } from '@/router'\r\n\r\nconst getDefaultState = () => {\r\n  return {\r\n    token: getToken(),\r\n    name: '',\r\n    avatar: ''\r\n  }\r\n}\r\n\r\nconst state = getDefaultState()\r\n\r\nconst mutations = {\r\n  RESET_STATE: (state) => {\r\n    Object.assign(state, getDefaultState())\r\n  },\r\n  SET_TOKEN: (state, token) => {\r\n    state.token = token\r\n  },\r\n  SET_NAME: (state, name) => {\r\n    state.name = name\r\n  },\r\n  SET_AVATAR: (state, avatar) => {\r\n    state.avatar = avatar\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  // user login\r\n  async login({ commit }, userInfo) {\r\n    const { username, password } = userInfo\r\n    let result = await login({ username: username.trim(), password: password });\r\n    if (result.code === 200) {\r\n      commit('SET_TOKEN', result.data.token)\r\n      setToken(result.data.token)\r\n      return 'ok'\r\n    } else {\r\n      return Promise(new Error('failed'))\r\n    }\r\n  },\r\n\r\n  // get user info\r\n  async getInfo({ commit, state }) {\r\n    let result = await getInfo(state.token);\r\n    // 登录成功\r\n    if (result.code === 200) {\r\n      commit('SET_NAME', result.data.username)\r\n      commit('SET_AVATAR', 'https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif')\r\n      return 'ok'\r\n    } else {\r\n      return Promise(new Error('验证失败，请重新登录'))\r\n    }\r\n  },\r\n\r\n  // user logout\r\n  async logout({ commit, state }) {\r\n    let result = await logout(state.token);\r\n    if (result.code === 200) {\r\n      removeToken() // must remove  token  first\r\n      resetRouter()\r\n      commit('RESET_STATE')\r\n    }else{\r\n      return Promise(new Error('退出失败，请重新登录'))\r\n    }\r\n  },\r\n\r\n  // remove token\r\n  resetToken({ commit }) {\r\n    return new Promise(resolve => {\r\n      removeToken() // must remove  token  first\r\n      commit('RESET_STATE')\r\n      resolve()\r\n    })\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions\r\n}\r\n\r\n"],"mappings":"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"}]}